# Data Structure
### 비시퀀스 데이터 구조
#### 세트 `set`
(중복이 없는) 고유한 항목들의 정렬되지 않은 컬렉션이다.

#### 세트 메서드
|메서드|설명|
|:---:|:---:|
|`s.add(x)`|세트 `s`에 항목 `x`를 추가. 이미 `x`가 있다면 변화 없음|
|`s.clear()`|세트 `s`의 모든 항목을 제거|
|`s.remove(x)`|세트 `s`에서 항목 `x`를 제거. 항목 `x`가 없을 경우 `KeyError`|
|`s.discard(x)`|세트 `s`에서 항목 `x`를 제거. `KeyError`가 발생하지 않음|
|`s.pop()`|세트 `s`에서 <span style='color:red;'>임의의</span> 요소를 제거하고 <span style='color:red;'>반환</span>|
|`s.update(iterable)`|세트 `s`에 다른 `iterable` 요소를 추가|

> `update()`와 `extend()`는 성격이 비슷하다.

#### 세트의 집합 메서드
|메서드|설명|연산자|
|:---:|:---:|:---:|
|`set1.difference(set2)`|`set1`에는 들어있지만 `set2`에는 없는 항목으로 세트를 생성 후 반환|`set1 – set2`|
|`set1.intersection(set2)`|`set1`과 `set2` 모두 들어있는 항목으로 세트를 생성 후 반환|`set1 & set2`|
|`set1.issubset(set2)`|`set1`의 항목이 모두 `set2`에 들어있으면 `True`를 반환|`set1 <= set2`|
|`set1.issuperset(set2)`|`set1`가 `set2`의 항목을 모두 포함하면 `True`를 반환|`set1 >= set2`|
|`set1.union(set2)`|`set1` 또는 `set2`에(혹은 둘 다) 들어있는 항목으로 세트를 생성 후 반환|`set1` \| `set2`|

#### 딕셔너리 `dictionary`
고유한 항목들의 정렬되지 않은 컬렉션이다.

#### 딕셔너리 메서드
|메서드|설명|
|:---:|:---:|
|`D.clear()`|딕셔너리 `D`의 모든 키/값 쌍을 제거|
|`D.get(key[, default])`|`key`에 연결된 값을 반환하거나, `key`가 없으면 `None` 혹은 `default`를 반환|
|`D.keys()`|딕셔너리 `D`의 키를 모은 객체를 반환|
|`D.values()`|딕셔너리 `D`의 값을 모은 객체를 반환|
|`D.items()`|딕셔너리 `D`의 키/값 쌍을 모은 객체를 반환|
|`D.pop(key[, default])`|딕셔너리 `D`에서 `key`를 제거하고 연결됐던 값을 반환하거나, `key`가 없으면 에러 혹은 `default`를 반환|
|`D.setdefault(key[, default])`|딕셔너리 `D`에서 `key`와 연결된 값을 반환하거나, `key`가 없으면 `default`와 연결한 `key`를 `D`에 추가하고 `default`를 반환|
|`D.update([other])`|`[other]` 내 각 키에 대해 `D`에 있는 키면 `D`에 있는 그 키의 값을 `[other]`에 있는 값으로 대체하고, 없다면 키/값 쌍을 `D`에 추가|

> #### `D.keys()`
`D.keys()`의 반환값의 자료형은 `dict_keys([])`이다. 이는 반복이 가능하기 때문에 `for`문에 활용할 수 있다.

# 해시 테이블
해시 함수를 사용하여 변환한 값을 색인(index)으로 삼아 키(key)와 데이터(value)를 저장하는 자료구조이다. 데이터를 효율적으로 저장하고 검색하기 위해 사용한다.

### 해시 테이블 원리
키를 해시 함수를 통해 해시 값으로 변환하고, 이 해시 값을 인덱스로 사용하여 데이터를 저장하거나 검색한다. 데이터의 검색이 매우 빠르게 이루어진다.

#### 해시(Hash)
임의의 크기를 가진 데이터(input)를 고정된 크기의 고유한 값(output)으로 변환하는 것을 말한다. 이렇게 생성된 고유한 값은 해당 데이터를 식별하는 데 사용될 수 있다.

파이썬에서는 해시 함수를 사용하여 데이터를 해시 값으로 변환하며, 이 해시 값은 정수로 표현된다.

#### 해시 함수(Hash function)
임의의 길이의 데이터를 입력 받아 고정된 길이의 데이터(해시 값)을 출력하는 함수이다. 주로 해시 테이블 자료구조에 사용되며, 매우 빠른 데이터 검색을 위한 컴퓨터 소프트웨어에 유용하게 사용된다.

### `set`의 요소와 `dict`의 키와 해시테이블 관계
파이썬에서는 `set`의 요소와 `dict`의 키는 해시 테이블을 이용하여 중복되지 않는 고유한 값을 저장한다.

`set` 내의 각 요소는 해시 함수를 통해 해시 값으로 변환되고, 이 해시 값을 기반으로 해시 테이블에 저장된다.

`dict`의 키는 해시 함수를 통해 해시 값으로 변환하여 해시 테이블에 저장한다. 따라서 매우 빠른 탐색 속도를 제공하며 중복된 값을 허용하지 않는다.

### 파이썬에서의 해시 함수
파이썬에서 해시 함수의 동작 방식은 객체의 타입에 따라 달라진다. 정수 값은 값 자체가 곧 해시 값인 반면, 문자열은 해시 값이 매번 다르다. 또한 이들의 해시 값을 계산하는 방식도 다르다.

#### 정수
같은 정수는 항상 같은 해시 값을 가지며, 해시 테이블에 정수를 저장할 때 효율적인 방법이다.
```python
print(hash(1))  # 1
print(hash(1))  # 1
print(hash(1))  # 1
```

#### 문자열
문자열은 가변적인 길이를 갖고 있고, 문자열에 포함된 각 문자들의 유니코드 코드 포인트 등을 기반으로 해시 값을 계산한다. 따라서 문자열의 해시 값은 실행 시마다 다르게 계산된다.
```python
print(hash('a'))  # 실행시마다 다름
print(hash('a'))  # 실행시마다 다름
```

#### `set`의 `pop` 메서드의 결과와 해시 테이블의 관계
`pop` 메서드는 실행할 때마다 다른 요소를 얻는다는 의미에서의 "무작위"가 아니라 <span style="color: red;">"임의"라는 의미에서 "무작위"</span>이다. 즉, 해시 테이블에 나타나는 순서대로 반환한다.

> *By "arbitrary" the docs don't mean "random"*

### hashable
`hash()` 함수의 인자로 전달해서 결과를 반환 받을 수 있는 객체를 hashable이라고 한다. 대부분의 불변형 데이터 타입은 hashable하다.
```python
print(hash(1))
print(hash(1.0))
print(hash('1'))

# TypeError: unhashable type: 'list'
print(hash((1, 2, [3, 4])))
```

> `tuple`의 경우 불변형이지만 불가능한 객체를 참조할 때는 `tuple` 자체도 hashable하지 않다.

#### hashable과 불변성 간의 관계
해시 테이블의 키는 불변해야 하며 객체가 생성된 후에는 그 값을 변경할 수 없어야 한다. 불변 객체는 해시 값이 변하지 않으므로 동일한 값에 대해 일관된 해시 값을 유지할 수 있다.

#### hashable 객체가 필요한 이유
1. 해시 테이블 기반 자료 구조 사용
	- `set`와 `dict`의 키
    - 중복 값 방지
    - 빠른 검색과 조회
2. 불변성을 통한 일관된 해시 값
3. 안정성과 예측 가능성 유지